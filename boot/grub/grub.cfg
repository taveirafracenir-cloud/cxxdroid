#==========================================================
#  CXXDROID Boot Configuration (GRUB 2)
#==========================================================
#  Author: CXXDROID Development Team
#  Description:
#     This configuration boots the CXXDROID operating system
#     with multiple startup modes (normal, debug, safe).
#==========================================================

set default=0
set timeout=5

# Set colors and menu title
set menu_color_normal=white/black
set menu_color_highlight=black/light-gray
set menu_title="CXXDROID Boot Manager"

#----------------------------------------------------------
#  Boot Entries
#----------------------------------------------------------

menuentry "CXXDROID OS (Normal mode)" {
    echo "Booting CXXDROID OS..."
    multiboot2 /boot/cxxdroid/kernel.elf
    module2   /boot/cxxdroid/initrd.img
    boot
}

menuentry "CXXDROID OS (Debug mode)" {
    echo "Booting CXXDROID OS in debug mode..."
    set gfxpayload=text
    multiboot2 /boot/cxxdroid/kernel.elf debug
    module2   /boot/cxxdroid/initrd.img
    boot
}

menuentry "CXXDROID OS (Safe mode)" {
    echo "Booting CXXDROID OS in safe mode..."
    multiboot2 /boot/cxxdroid/kernel.elf safe
    module2   /boot/cxxdroid/initrd.img
    boot
}

menuentry "Memory Test (memtest86+)" {
    echo "Starting memory test..."
    linux16 /boot/memtest86+.bin
}

#----------------------------------------------------------
#  Optional graphical settings
#----------------------------------------------------------
if loadfont /boot/grub/unicode.pf2 ; then
    set gfxmode=1024x768
    insmod gfxterm
    terminal_output gfxterm
    background_image /boot/grub/splash.png
fi

#----------------------------------------------------------
#  Footer
#----------------------------------------------------------
echo "Welcome to CXXDROID OS boot manager!"
echo "Use ↑ and ↓ to select, press Enter to boot."
